{
  "$schema": "https://vega.github.io/schema/vega-lite/v6.json",
  "title": {
    "text": "Visitor Arrivals by State (Selected Years)",
    "fontSize": 14,
    "fontWeight": "bold"
  },
  "background": "aliceblue",
  "width": 780,
  "height": 250,

  "data": {
    "url": "https://raw.githubusercontent.com/vanillaICY/3179_Assignment2/refs/heads/main/data/state_arrivals_stream.csv"
  },

  "transform": [
    {
      "calculate": "({'NSW':'New South Wales','VIC':'Victoria','QLD':'Queensland','SA':'South Australia','WA':'Western Australia','TAS':'Tasmania','NT':'Northern Territory','ACT':'Australian Capital Territory'})[datum.State]",
      "as": "StateFull"
    }
  ],

  "params": [
    {
      "name": "stateSel",
      "select": { "type": "point", "fields": ["StateFull"] },
      "bind": "legend"
    }
  ],

  "mark": { "type": "area", "interpolate": "monotone" },

  "encoding": {
    "x": {
      "field": "Year",
      "type": "ordinal",
      "sort": ["2014-15", "2018-19", "2023-24", "2024-25"],
      "axis": { "title": "Year", "labelAngle": 0, "labelPadding": 6 },
      "scale": { "paddingInner": 0.7, "paddingOuter": 0.35 }
    },
    "y": {
      "aggregate": "sum",
      "field": "ArrivalsM",
      "type": "quantitative",
      "stack": "center",
      "axis": { "title": "Visitor arrivals (Millions)" }
    },
    "color": {
      "field": "StateFull",
      "type": "nominal",
      "title": "State (Use legend to filter out)",
      "scale": { "scheme": "set3" }
    },
    "opacity": {
      "condition": { "param": "stateSel", "value": 1 },
      "value": 0.25
    },
    "tooltip": [
      { "field": "Year", "title": "Year" },
      { "field": "StateFull", "title": "State" },
      { "field": "ArrivalsM", "title": "Arrivals (M)", "format": ".2f" }
    ],
    "order": { "field": "StateFull" }
  },

  "config": {}
}
